---
title: Backing up and Restoring VMware Tanzu SQL &#91;MySQL&#93;
owner: MySQL
---

<strong><%= modified_date %></strong>

This topic describes how to back up and restore a <%= vars.product_full %> service instance.

An operator can configure automated backups by following the procedures in
[Configuring Automated Backups](./automated-backup.html).

Additionally, developers can create logical backups using `mysqldump`.
For information, see [Backing Up and Restoring with mysqldump](./backup-mysqldump.html).

## <a id="overview"></a> Overview

You can back up and restore a <%= vars.product_short %> service instance using the
Cloud Foundry Command Line Interface (cf CLI).
The backup artifacts you create in this topic are physical backups.
The following procedures do not create logical backup artifacts.
Restoring a physical backup is faster than restoring a logical backup.

You might want to create a physical backup in the following use cases:

+

<p class="note"><strong>Note:</strong> VMware recommends
  that you always configure a single instance plan to streamline the backup and
  restore process for leader-follower and HA cluster plans.
</p>

## <a id="backup"></a> Back up a Service Instance


To back up a service instance:

1. Back up your service instance by running:

    ```
    cf adbr backup SERVICE-INSTANCE
    ```
1. View the status of the backup process by running:

    ```
    cf adbr get-status SERVICE-INSTANCE
    ```

    For example:

    <pre class="terminal">$ cf adbr get-status myDB
      Getting status of service instance myDB in org my-org / space my-space as user...
      [Mon May 18 18:08:04 UTC 2020] Status: A Backup request is in progress


    $ cf adbr get-status myDB
      Getting status of service instance myDB in org my-org / space my-space as user...
      [Mon May 18 18:08:25 UTC 2020] Status: Backup was successful. Uploaded 3.2M</pre>

## <a id="restore"></a> Restore a Service Instance

You can only restore single node and leader-follower backup artifacts to a single node service instance.
Ensure that the persistent disk in the single node plan is at
least as large as the persistent disk of your largest leader-follower.
For information about persistent disk sizing recommendations,
see <a href="recommended.html#persistent"> Persistent Disk Usage</a>. 

To restore a service instance:

1. View the available backup artifacts for your service instance by running:

    ```
    cf adbr list SERVICE-INSTANCE
    ```

    For example:
    <pre class="terminal">$cf adbr list-backups myDB
      Getting backups of service instance myDB in org my-org / space my-space as user...
      Backup ID                                         Time of Backup
      a41bf723-2538-4020-9d16-50cccb7b7c8d_1589825284   Mon May 18 18:08:04 UTC 2020</pre>

      Record the `Backup ID` from the above output.

1. Restore the service instance by running:

    ```
    cf adbr restore BACKUP-ID DESTINATION-INSTANCE
    ```
    Where:
    + `BACKUP-ID` is the ID you recorded in the above step.
    +  `DESTINATION-INSTANCE` is the service instance that you are restoring the backup artifact to.
        The topology of this service instance depends on the topology of the backup artifact.
        + **Single node or <%= vars.single_leader_plan %>:**
          You must restore to a single node service instance.
        + **Leader-follower:** You must restore to a single node service instance.
        + **HA cluster:** You must restore to a HA cluster service instance.

    For example:

    <pre class="terminal">$ cf adbr restore a41bf723-2538-4020-9d16-50cccb7b7c8d_1589825284  myTargetDB</pre>



<!-- Restoring <%= vars.product_short %> from backup is a manual process primarily intended for
disaster recovery.
Restoring a <%= vars.product_short %> service instance replaces all of its data and running state. -->




<!--
<p class="note warning">
  <strong>Warning:</strong> Restoring a service instance is destructive.
  VMware recommends that you only restore to a new and unused service instance.
</p>
-->


<!-- After you restore your single node, leader-follower, HA cluster service instance, or
<%= vars.single_leader_plan %> you must restage your new service instance.
For <%= vars.single_leader_plan %> plans, you must also re-establish replication between
the leader and follower service instances. -->

<!--
<%= partial vars.path_to_partials + "/mysql/rebind-warning" %>
-->
