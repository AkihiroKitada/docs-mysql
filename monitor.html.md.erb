---
title: Monitoring and KPIs for On-Demand MySQL for PCF
owner: MySQL
---

<div class="quick-links">
    <ul>
        <li><a href="#metrics">About Metrics</a></li>
        <li><a href="#access">Access MySQL Metrics</a></li>
        <li><a href="#kpi">KPIs for MySQL Service Instances</a></li>
        <li><a href="#component-metrics">Component Metrics</a></li>
          <ul>
            <li><a href="#mysql-metrics">MySQL Metrics </a></li>
            <li><a href="#disk-metrics">Disk Metrics </a></li>
            <li><a href="#l-f-metrics">Leader-Follower Metrics </a></li>
              <li><a href="#ha-metrics">Highly Available Cluster Metrics </a></li>
          </ul>
    </ul>
</div>

<strong><%= modified_date %></strong>

This topic explains how to monitor the health of the MySQL for Pivotal Cloud
Foundry (PCF) service using the logs, metrics, and Key Performance Indicators
(KPIs) generated by MySQL for PCF component VMs.

For general information about logging and metrics in PCF, see
[Logging and Metrics](http://docs.pivotal.io/pivotalcf/loggregator/index.html).

<h2> <a id="metrics"></a>About Metrics </h2>

Metrics are regularly-generated log messages that report measured component states. The default metrics polling interval is 30 seconds for MySQL instances and 60 seconds for the service broker. 

You can configure the interval for MySQL instance in the **Configure Monitoring** pane in the MySQL for PCF tile. For more information, see [Configure Monitoring](./install-config.html#monitoring).

Metrics are long, single lines of text that follow the format:

```
origin:"p.mysql" eventType:ValueMetric timestamp:1496776477930669688 deployment:"service-instance_2b5a001f-2bf3-460c-aee6-fd2253f9fb0c" job:"mysql" index:"b09df494-b731-4d06-a4b0-c2985ceedf4c" ip:"10.0.8.4" valueMetric:<name:"/p.mysql/performance/open_files" value:24 unit:"file" >
```

<h2> <a id="access"></a>Access MySQL Metrics </h2>

  <%= partial '../../p-mysql/odb/log-cache-cli-plugin' %>

<h2> <a id="kpi"></a>KPIs for MySQL Service Instances</h2>

Key Performance Indicators (KPIs) for MySQL for PCF are metrics that developers
find most useful for monitoring their MySQL service instances to ensure smooth operation.
KPIs are high-signal-value metrics that can indicate emerging issues. KPIs can be
raw component metrics or _derived_ metrics generated by applying formulas to raw metrics.

Pivotal provides the following KPIs as general alerting and response guidance
for typical MySQL for PCF installations.
Pivotal recommends that you continue to fine-tune the alert measures
by observing historical trends.
Pivotal also recommends that you expand beyond this guidance and create
new, installation-specific monitoring
metrics, thresholds, and alerts based on learning from your installations.

For a list of all the MySQL for PCF component metrics, see [Component Metrics](#component-metrics).

<%# If you are confused about how to edit the following HA partials see the Tile Dev partials topic in the wiki  %>

<%= partial 'monitoring/kpis-metrics/all-kpis' %>

<h2> <a id="component-metrics"></a> Component Metrics </h2>

In addition to the above KPIs, the MySQL service emits the followings metrics
that can be used for monitoring and alerting:

  + [MySQL Metrics](#mysql-metrics)
  + [Disk Metrics](#disk-metrics)
  + [Leader-Follower Metrics](#l-f-metrics)
  + [Highly Available Cluster Metrics](#ha-metrics)

<h3> <a id="mysql-metrics"></a> MySQL Metrics </h3>

All MySQL for PCF service instances emit the following metrics:

<%= partial 'monitoring/kpis-metrics/mysql-metrics' %>

<h3> <a id="disk-metrics"></a> Disk Metrics </h3>

All MySQL for PCF services emit the following disk usage metrics:

<%= partial 'monitoring/kpis-metrics/disk-metrics' %>

<h3> <a id="l-f-metrics"></a> Leader-Follower Metrics </h3>

Leader-follower VMs emit the followings metrics: 

<%= partial 'monitoring/kpis-metrics/l-f-metrics' %>

<h3><a id="ha-metrics"></a> Highly Available Cluster Metrics</h3>

HA clusters emit the followings metrics:

<%= partial 'monitoring/kpis-metrics/ha-metrics' %>
