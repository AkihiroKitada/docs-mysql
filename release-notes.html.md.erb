---
title: Release Notes
owner: MySQL
---


Pivotal recommends that you upgrade to the latest version of your current minor line,
then upgrade to the latest available version of the new minor line.
For example, if you use an older v2.3.x version, upgrade to the latest v2.3.x version
before upgrading to the latest v2.4.x version.

For product versions and upgrade paths, see the [Product Compatibility Matrix](http://docs.pivotal.io/compatibility-matrix.pdf).


## <a id="240"></a>v2.4.0

**Release Date:**  September 24, 2018

### Features

<p class="note breaking"><strong>Breaking Change: </strong>MySQL for PCF v2.4.0 and later requires a Xenial stemcell.
You must verify that you have the Xenial stemcell, and, if necessary, download and import it into the Ops Manager Stemcell Library before deploying MySQL for PCF v2.4.0.
This might break automations you have set up to update MySQL for PCF deployments that used Trusty stemcells.
For instructions on verifying the stemcell, see <a href="./install-config.html#stemcell"> Verify Stemcell Version and Apply All Changes</a>.
To download the Xenial stemcell from Pivotal Network, go to <a href="https://network.pivotal.io/products/stemcells-ubuntu-xenial"> Stemcells for PCF (Ubuntu Xenial)</a>.
</p>

New features and changes in this release:

**Auto-healing**

* A leader VM that was resurrected by BOSH returns in read/write mode if no failover was triggered.
  This removes the requirement for operators to run the `configure-leader-follower` BOSH errand after resurrection.

**Improvements due to BOSH DNS**

* Developers now connect to a service instance using its BOSH DNS hostname,
  instead of over IPs as in MySQL for PCF v2.3.
* The leader-follower failover process no longer relies on developers to rebind their app to the service instance.

    <div class="note warning"><strong>Important</strong>: You must make sure that your apps retry in the case of DNS timeouts,
       upgrade your service instances, and rebind your apps. 
       For information, see:
       <ul>
          <li><a href="./use.html#call">Use the MySQL Service in Your App</a></li>
          <li><a href="./upgrade.html#upgrade-instances">Upgrade MySQL Instances</a></li>
          <li><a href="./use.html#bind">Bind a Service Instance to Your App</a></li>
       </ul>
     </div>

**Service Instance Sharing**

* Developers can share their service instance across different orgs and spaces.

    <p class="note"><strong>Note</strong>: Service instance sharing is a beta feature in PCF v2.2
       and a GA feature in PCF v2.3. 
       For information about service instance sharing,
       see <a href="https://docs.pivotal.io/pivotalcf/devguide/services/sharing-instances.html">Sharing Service Instances</a>.

**Encryption at Rest**

* MySQL for PCF v2 enables integration with commercial vendors for full-disk encryption at rest. This integration has been certified with the <a href="https://docs.pivotal.io/partners/vormetric-transparent-encryption/">Thales Vormetric plugin</a>.

**Improvements for Developers**

* Clearer messaging to developers trying to bind to a service instance with TLS disabled when the operator has enforced TLS.

**Improvements for Operators**

* BOSH errands run faster, saving operators time during upgrades and installation.
* Developers are prevented from binding or updating a service that is two or more versions older than the service broker.
* Operators can configure the timeout for the `upgrade-all-service-instances` BOSH errand to support large deployments.
* Operators can see apps with outdated bindings by running the `find-deprecated-bindings` BOSH errand.

**Improvements to Smoke Tests**

* Operators can run smoke tests on a specific service instance to determine its health.

### Security Fixes

This release includes the following security fixes:

* Service bindings no longer have unnecessary access to the MySQL `sys` database.

### Fixed Issues

This release fixes the following issues:

* Placement of service instance VMs is now randomized across all selected AZs for its plan, reducing the magnitude of an outage caused by an AZ failure.
* The `find-non-tls-bindings` BOSH errand on the service broker still works when the installed PCF version has Credhub, but secure service credentials is not enabled.
* If the `find-non-tls-bindings` errand fails, the operator sees better messaging for the cause of the error.
* Smoke tests no longer fail on an initial install of the tile when Service Plan Access is set to Manual.

### Known Issues

There are no known issues for this release.

### Compatibility

The following components are compatible with this release:

<table border="1" class="nice">
<tr>
    <th>Component</th>
    <th>Version</th>
</tr>
<tr>
    <td>Stemcell</td>
    <td><a href="https://docs.pivotal.io/pivotalcf/stemcells/stemcells.html#97-line">Xenial 97.x</a></td>
</tr>
<tr>
    <td>Percona Server</td>
    <td>5.7.21-21</td>
</tr>
<tr>
    <td>golang</td>
    <td>1.10.3</td>
</tr>
</table>
