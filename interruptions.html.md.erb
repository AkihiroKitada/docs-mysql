---
title: Events That Interrupt Service
owner: MySQL
---

This topic explains events in the lifecycle of a MySQL for Pivotal Cloud Foundry (PCF) service instance that might cause temporary service interruptions.

Read this topic if:

+ You are experiencing a service interruption and are wondering why.
+ You are planning to update or change a service instance and want to know if it might cause a service interruption.

## <a id='service-update'></a>Stemcell or Service Update

An operator updates a stemcell version or their version of MySQL for PCF.

- <strong>Impact:</strong> Apps lose access to the MySQL service while PCF updates the service instance they are bound to. The service should resume within 10–15 minutes.
- <strong>Required Actions:</strong> None. If the update deploys successfully, apps reconnect automatically.

## <a id='change-plan'></a>Plan Change

A developer changes their service instance to provide a different service plan, using `cf update-service` or Apps Manager.

- <strong>Impact:</strong> Apps lose access to the MySQL service while PCF updates the service instance they are bound to. The service should resume within 10–15 minutes.
- <strong>Required Actions:</strong> None. If the plan change deploys successfully, apps reconnect automatically.

## <a id='process-fail'></a>VM Process Failure

A process, like the MySQL server, crashes on the service instance VM.

- <strong>Impact:</strong>
  - BOSH (monit) brings the process back automatically.
  - Depending on the process and what it was doing, the service might experience 60–120 seconds of downtime.
  - Until the process resumes, apps might be unable to use MySQL, metrics or logging might stop, and other features might be interrupted. 
- <strong>Required Actions:</strong> None. If the process resumes cleanly and without manual intervention, apps reconnect automatically.

## <a id='vm-fail'></a>VM Failure

A MySQL for PCF VM fails and goes offline due to either a virtualization problem or a host hardware problem.

- <strong>Impact:</strong>
  - If the [BOSH Resurrector](https://bosh.io/docs/resurrector.html) is enabled (recommended), BOSH should detect the failure, recreate the VM, and reattach the same persistent disk and IP address.
  - Downtime largely depends on how quickly the Resurrector notices, usually 1–2 minutes, and how long it takes the IaaS to create a replacement VM.
  - If the Resurrector is not enabled, some IaaSes such as vSphere have similar resurrection or high availability features.
  - Apps cannot connect to MySQL until the VM is recreated and the MySQL server process is resumed.
  - Based on prior experience with BOSH Resurrector, typical downtime is 8–10 minutes.
- <strong>Required Actions:</strong> When the VM comes back, no further action should be required for the app developer to continue operations.

## <a id='az-fail'></a>AZ Failure

An Availability Zone (AZ) goes offline entirely or loses connectivity to other AZs (net split). 
This causes service interruption in multi-AZ PCF deployments where [Diego](http://docs.pivotal.io/pivotalcf/1-10/concepts/diego/diego-auction.html) has placed multiple instances of a MySQL-using app in different AZs.

- <strong>Impact:</strong>
  - Some app instances might still be able to connect and continue operating.
  - App instances in the other AZs are not able to connect.
  - Downtime: Unknown
- <strong>Required Actions:</strong>  Recovery of the app / database connection should be automatic. Depending on the app, manual intervention might be required to check data consistency.

## <a id='region-fail'></a>Region Failure

An entire region fails, bringing PCF platform components offline.

- <strong>Impact:</strong>
  - The entire PCF platform needs to be brought back up manually.
  - Downtime: Unknown
- <strong>Required Actions:</strong> Each service instance might need to be [restored individually](./backup-and-restore.html#restore) depending on the restored state of the platform.

